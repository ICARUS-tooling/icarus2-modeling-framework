

%packages that need to be loaded early to avoid option clashes
\usepackage{float}
\usepackage[dvipsnames]{xcolor}

% packages that can be loaded in random order
\usepackage{acro}
\usepackage[chapter]{algorithm}
\usepackage[toc,page]{appendix}
\usepackage[english]{babel}
\usepackage{bera}% optional: just to have a nice mono-spaced font
\usepackage{blindtext}
\usepackage{comment} % for commenting out the huge draft lists
\usepackage{cprotect}
\usepackage{enumitem}
\usepackage{fancyvrb}
\usepackage[T1]{fontenc}
\usepackage{fontspec}
\usepackage{forest}
\usepackage[hscale=0.75,vscale=0.8]{geometry}
\usepackage{hyperref}
\usepackage{latexsym}
\usepackage{listings}
\usepackage{multicol}
\usepackage{natbib}
\usepackage{ntheorem}
\usepackage[section]{placeins} % to keep floats within the section they have been defined in
\usepackage{standalone}
\usepackage{subcaption}
\usepackage[rounded]{syntax}
\usepackage{tikz}
%\usepackage{times}
%\usepackage{titlesec} % for modifying title styles (especially paragraph in report class)
\usepackage{todonotes}
\usepackage{url}
\usepackage{wrapfig}
\usepackage{xstring}
\usepackage{xspace}

%packages that need specific prerequisites
\usepackage[capitalise]{cleveref} % must be loaded after hyperref!
\usepackage{algpseudocode} %loads algorithmicx and applies pseudocode style

\usetikzlibrary{shapes.arrows, chains, positioning}

%\titleformat{\paragraph}[hang]{\normalfont\bfseries}{\theparagraph}{.5em}{}

\DeclareAcronym{cql}{short = CQL, long = corpus query language}
\DeclareAcronym{cqs}{short = CQS, long = corpus query system}
\DeclareAcronym{rdbms}{short = RDBMS, long = relational database management system}
\DeclareAcronym{rdb}{short = RDB, long = relational database}
\DeclareAcronym{iql}{short = IQL, long = ICARUS2 Query Language}
\DeclareAcronym{imf}{short = IMF, long = ICARUS2 Manifest Framework}
\DeclareAcronym{icmf}{short = ICMF, long = ICARUS2 Corpus Modeling Framework}
\DeclareAcronym{icqp}{short = ICQP, long = ICARUS2 Corpus Query Processor}
\DeclareAcronym{kwic}{short = KWIC, long = keyword-in-context}
\DeclareAcronym{uoi}{short = UoI, long = unit-of-interest, long-plural-form = units-of-interest}

\setcounter{secnumdepth}{3}

%\newfontfamily\DejaSans{DejaVu Sans}

\setmonofont{Consolas}

\lstset{
	basicstyle=\ttfamily,
}

\definecolor{eclipseStrings}{RGB}{42,0.0,255}
\definecolor{eclipseKeywords}{RGB}{127,0,85}
\colorlet{numb}{magenta!60!black}

\definecolor{gray}{rgb}{220, 220, 220}
\definecolor{darkgreen}{rgb}{0.0, 0.5, 0.0}
\definecolor{darkred}{rgb}{0.8, 0.0, 0.0}

\theoremstyle{break}
\newtheorem{gram}{Grammar Snippet}[chapter]

\crefname{gram}{snippet}{snippets}
%\crefname{algorithm}{alg.}{algs.}
%\Crefname{algorithm}{Algorithm}{Algorithms}

\newcommand{\compresslist}{ % Define a command to reduce spacing within itemize/enumerate environments, this is used right after \begin{itemize} or \begin{enumerate}
	\setlength{\topsep}{0pt}
	\setlength{\itemsep}{1pt}
	\setlength{\parskip}{0pt}
	\setlength{\parsep}{0pt}
}

\newcommand{\icarus}{ICARUS2\xspace}

\newcommand{\keyword}[1]{\textcolor{purple}{\texttt{#1}}}

\newcommand{\member}[1]{\texttt{\$#1}}

\newcommand{\code}[1]{\texttt{#1}}
\newcommand{\query}[1]{\texttt{#1}}
\newcommand{\switch}[1]{``\texttt{#1}''}


% constants
\newcommand{\iqlns}{iql:}
\newcommand{\imfns}{imf:}
\newcommand{\repoUrl}{https://github.com/ICARUS-tooling/icarus2-modeling-framework/blob/dev/}
\newcommand{\manifestsUrl}{\repoUrl icarus2-manifest-api/src/main/java/de/ims/icarus2/model/manifest/api/}
\newcommand{\modelsUrl}{\repoUrl icarus2-model-api/src/main/java/de/ims/icarus2/model/api/}

% link - text
\newcommand{\repoLink}[2]{\href{#1}{#2}}

\newcommand{\desc}[1]{\noindent#1\newline\medskip}
\newcommand{\extends}[2]{\noindent\textbf{Extends #1(#2).}\newline\medskip}

% make a noticable skip and set a horizontal separator
\newcommand{\diagsep}{\bigskip\hrule}

\newcommand{\rrhead}[1]{\medskip\noindent\synt{#1}:\newline\medskip}

% wrap syntax diagram with a title label (uses syntdiag)
\newenvironment{rrdiag}[1]{
	\rrhead{#1}
	\hspace{-\medskipamount}
	\begin{syntdiag}
	}{
	\end{syntdiag}
}

% wrap syntax diagram with a title label (uses syntdiag*)
\newenvironment{rrdiag*}[1]{
	\rrhead{#1}
	\begin{syntdiag*}
	}{
	\end{syntdiag*}
}

% allows to split a railroad diagram manually
\newenvironment{rrfrag}[2]{
	\begin{syntdiag*}[\left{#1}\right{#2}]
	}{
	\end{syntdiag*}
}

\newcommand{\sst}{\begin{stack}}
\newcommand{\est}{\end{stack}}
\newcommand{\srp}{\begin{rep}}
\newcommand{\erp}{\end{rep}}

%\newcommand*\BitAnd{\mathbin{\&}}
%\newcommand*\BitOr{\mathbin{|}}
%\newcommand*\ShiftLeft{\ll}
%\newcommand*\ShiftRight{\gg}
%\newcommand*\BitNeg{\ensuremath{\mathord{\sim}}}

%\counterwithin{paragraph}{subsubsection}

\lstdefinelanguage{json}{
	basicstyle=\normalfont\ttfamily,
	commentstyle=\color{eclipseStrings}, % style of comment
	stringstyle=\color{eclipseKeywords}, % style of strings
	numbers=left,
	numberstyle=\scriptsize,
	stepnumber=1,
	numbersep=8pt,
	showstringspaces=false,
	breaklines=true,
	frame=lines,
%	backgroundcolor=\color{gray}, %only if you like
	xleftmargin=2em,
	string=[s]{"}{"},
	comment=[l]{:\ "},
	morecomment=[l]{:"},
	literate=
	*{0}{{{\color{numb}0}}}{1}
	{1}{{{\color{numb}1}}}{1}
	{2}{{{\color{numb}2}}}{1}
	{3}{{{\color{numb}3}}}{1}
	{4}{{{\color{numb}4}}}{1}
	{5}{{{\color{numb}5}}}{1}
	{6}{{{\color{numb}6}}}{1}
	{7}{{{\color{numb}7}}}{1}
	{8}{{{\color{numb}8}}}{1}
	{9}{{{\color{numb}9}}}{1}
}

\lstdefinelanguage{java}{
	basicstyle=\scriptsize\ttfamily,
	keywordstyle=\color{javapurple}\bfseries,
	stringstyle=\color{javared},
	commentstyle=\color{javagreen},
	morecomment=[s][\color{javadocblue}]{/**}{*/},
	numberstyle=\tiny\color{black},
	numbers=left,
	numbersep=3pt,
	stepnumber=1,
	breakautoindent=false,
	framerule=0pt,
	xleftmargin=1em,
	xrightmargin=0pt,
	breakindent=0pt,
	showspaces=false,
	showtabs=false,
	breaklines=true,
	showstringspaces=false,
	breakatwhitespace=true,
	tabsize=4,
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%
% FIXES
%%%%%%%%%%%%%%%%%%%%%%%%%%%
